schemaVersion: 2.2.0
metadata:
  name: java-springboot
components:
  - name: service-two
    container:
      image: quay.io/rh_ee_sshirodk/demo-service-two
      sourceMapping: /projects
      endpoints:
        - exposure: public
          name: service-two
          targetPort: 8081
  - name: postgres
    container:
      image: postgres
      memoryLimit: 512Mi
      env:
        - name: postgres_user
          value: user
        - name: postgres_password
          value: password
        - name: postgres_db
          value: database
      endpoints:
        - name: postgres
          targetPort: 5432
          exposure: none